(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{3715:function(a,t,e){"use strict";e.d(t,{Z:function(){return n}});let n=(0,e(5531).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2741:function(a,t,e){"use strict";e.d(t,{Z:function(){return n}});let n=(0,e(5531).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},3042:function(a,t,e){Promise.resolve().then(e.bind(e,3917))},3917:function(a,t,e){"use strict";e.r(t),e.d(t,{default:function(){return d}});var n=e(7437),s=e(2265),i=e(826),l=e(3715),c=e(8063),r=e(2741);function d(){let[a,t]=(0,s.useState)([]),[e,d]=(0,s.useState)(!0),[o,u]=(0,s.useState)(null);async function p(){try{d(!0);let a=await (0,i.Qp)();t(a.data)}catch(a){u(a.message||"Failed to load")}finally{d(!1)}}return((0,s.useEffect)(()=>{p()},[]),e)?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-96",children:[(0,n.jsx)(l.Z,{className:"h-12 w-12 text-purple-600 animate-spin"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading calls..."})]}):o?(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[(0,n.jsx)(c.Z,{className:"h-6 w-6 text-red-600"}),(0,n.jsx)("p",{className:"text-red-700 mt-2",children:o}),(0,n.jsx)("button",{onClick:p,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg",children:"Retry"})]}):0===a.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(r.Z,{className:"h-16 w-16 text-gray-300 mx-auto"}),(0,n.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"No Calls Yet"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Call logs will appear here once calls are made"})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:(0,n.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,n.jsx)(r.Z,{className:"h-8 w-8 text-purple-600"}),"Calls (",a.length,")"]})}),(0,n.jsx)("div",{className:"space-y-4",children:a.map(a=>{var t,e;return(0,n.jsx)("div",{className:"bg-white rounded-xl shadow border p-6",children:(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:(null===(t=a.patient)||void 0===t?void 0:t.phone)||"Unknown"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:(null===(e=a.clinic)||void 0===e?void 0:e.name)||"Unknown Clinic"})]}),(0,n.jsx)("span",{className:"px-3 py-1 text-sm rounded bg-gray-100",children:a.status})]})},a.id)})})]})}},826:function(a,t,e){"use strict";e.d(t,{KP:function(){return o},Qp:function(){return l},TH:function(){return s},Yj:function(){return r},jL:function(){return i},nh:function(){return c},tM:function(){return d}});let n=e(4829).Z.create({baseURL:"https://dentcognit.abacusai.app",timeout:1e4});async function s(a){return(await n.get("/api/dashboard/stats",{params:a?{clinicId:a}:{}})).data.data}async function i(a,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,i={page:e,limit:s};a&&(i.clinicId=a),t&&(i.status=t);let l=await n.get("/api/dashboard/appointments",{params:i});return{data:l.data.data,pagination:l.data.pagination}}async function l(a,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,i={page:e,limit:s};a&&(i.clinicId=a),t&&(i.status=t);let l=await n.get("/api/dashboard/calls",{params:i});return{data:l.data.data,pagination:l.data.pagination}}async function c(a,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,i={page:e,limit:s};a&&(i.clinicId=a),t&&(i.type=t);let l=await n.get("/api/dashboard/escalations",{params:i});return{data:l.data.data,pagination:l.data.pagination}}async function r(a){await n.patch("/api/dashboard/escalations/".concat(a,"/resolve"))}async function d(a){return(await n.get("/api/dashboard/health",{params:a?{clinicId:a}:{}})).data.data}async function o(){return(await n.get("/clinics")).data}}},function(a){a.O(0,[990,971,938,744],function(){return a(a.s=3042)}),_N_E=a.O()}]);