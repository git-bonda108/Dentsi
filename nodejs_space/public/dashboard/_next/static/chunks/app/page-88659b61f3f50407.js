(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4530:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5531).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6886:function(e,t,s){Promise.resolve().then(s.bind(s,162))},162:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=s(7437),l=s(2265),n=s(1396),i=s.n(n),r=s(1657);function c(e){let{title:t,value:s,icon:l,description:n,trend:c,variant:d="default",href:o}=e,x={default:"bg-white border-gray-200",success:"bg-green-50 border-green-200",warning:"bg-yellow-50 border-yellow-200",danger:"bg-red-50 border-red-200"},m=(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:t}),(0,a.jsx)("p",{className:"text-3xl font-bold mt-2",children:s}),n&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:n}),c&&(0,a.jsxs)("p",{className:"text-sm font-medium text-green-600 mt-2",children:["↑ ",c.value.toFixed(1),"% ",c.label]})]}),(0,a.jsx)("div",{className:(0,r.cn)("rounded-full p-3",{default:"bg-primary/10 text-primary",success:"bg-green-100 text-green-600",warning:"bg-yellow-100 text-yellow-600",danger:"bg-red-100 text-red-600"}[d]),children:(0,a.jsx)(l,{className:"h-6 w-6"})})]});return o?(0,a.jsx)(i(),{href:o,className:(0,r.cn)("rounded-lg border p-6 shadow-sm transition-all hover:shadow-md hover:scale-105 block cursor-pointer",x[d]),children:m}):(0,a.jsx)("div",{className:(0,r.cn)("rounded-lg border p-6 shadow-sm transition-shadow hover:shadow-md",x[d]),children:m})}var d=s(826),o=s(8203),x=s(5531);let m=(0,x.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),h=(0,x.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var u=s(2741);function p(e){let{clinicId:t,status:s,limit:n=20}=e,[c,x]=(0,l.useState)([]),[p,g]=(0,l.useState)(!0),[y,f]=(0,l.useState)(1),[j,N]=(0,l.useState)(1);async function b(){try{g(!0);let e=await (0,d.jL)(t,s,y,n);x(e.data),N(e.pagination.totalPages)}catch(e){console.error("Failed to load appointments:",e)}finally{g(!1)}}return((0,l.useEffect)(()=>{b()},[t,s,y]),p)?(0,a.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg border shadow-sm",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Recent Appointments"})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Showing ",c.length," appointments"]})]}),n&&c.length>0&&(0,a.jsxs)(i(),{href:"/appointments",className:"flex items-center space-x-1 text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:[(0,a.jsx)("span",{children:"View All"}),(0,a.jsx)(m,{className:"h-4 w-4"})]})]}),0===c.length?(0,a.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 text-gray-400 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"No appointments found"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clinic"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:c.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,r.o0)(e.appointment_date)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.patient?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.patient.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:(0,r.un)(e.patient.phone)})]})]})]}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Available Slot"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.service_type})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.clinic&&(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.clinic.name})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,r.z2)(e.status)),children:e.status})})]},e.id))})]})}),j>1&&(0,a.jsxs)("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===y,className:"px-4 py-2 border rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",y," of ",j]}),(0,a.jsx)("button",{onClick:()=>f(e=>Math.min(j,e+1)),disabled:y===j,className:"px-4 py-2 border rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]})}var g=s(4631),y=s(4530);function f(e){let{clinicId:t}=e,[s,n]=(0,l.useState)([]),[c,o]=(0,l.useState)(!0),[x,h]=(0,l.useState)(null);async function p(){try{o(!0);let e=await (0,d.nh)(t);n(e.data)}catch(e){console.error("Failed to load escalations:",e)}finally{o(!1)}}async function f(e){try{h(e),await (0,d.Yj)(e),await p()}catch(e){console.error("Failed to resolve escalation:",e),alert("Failed to resolve escalation. Please try again.")}finally{h(null)}}return((0,l.useEffect)(()=>{p()},[t]),c)?(0,a.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg border shadow-sm",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-yellow-600"}),(0,a.jsx)("span",{children:"Escalation Queue"})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[s.length," ",1===s.length?"call":"calls"," requiring attention"]})]}),s.length>0&&(0,a.jsxs)(i(),{href:"/escalations",className:"flex items-center space-x-1 text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:[(0,a.jsx)("span",{children:"View All"}),(0,a.jsx)(m,{className:"h-4 w-4"})]})]}),0===s.length?(0,a.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,a.jsx)(y.Z,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2 font-medium",children:"All clear!"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"No escalations at this time"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clinic"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:(0,r.SY)(e.created_at)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.clinic&&(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.clinic.name})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.patient?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.patient.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:(0,r.un)(e.patient.phone)})]})]}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Unknown"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,r.z2)(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("button",{onClick:()=>f(e.id),disabled:x===e.id,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-0.5 mr-1.5 h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resolving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),"Resolve"]})})})]},e.id))})]})})]})}var j=s(8063);let N=(0,x.Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);function b(e){let{clinicId:t}=e,[s,n]=(0,l.useState)(null),[i,c]=(0,l.useState)(!0);async function o(){try{let e=await (0,d.tM)(t);n(e)}catch(e){console.error("Failed to load health status:",e)}finally{c(!1)}}if((0,l.useEffect)(()=>{o();let e=setInterval(o,3e4);return()=>clearInterval(e)},[t]),i||!s)return(0,a.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})});let x="healthy"===s.status?y.Z:"degraded"===s.status?g.Z:j.Z;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border shadow-sm",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b",children:(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[(0,a.jsx)(N,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"System Health"})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"border rounded-lg p-4 ".concat((0,r.iV)(s.status)),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(x,{className:"h-6 w-6"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-lg capitalize",children:s.status}),(0,a.jsxs)("p",{className:"text-sm opacity-90",children:["System is operating ","healthy"===s.status?"normally":"with issues"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs opacity-75",children:"Last updated"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:new Date(s.timestamp).toLocaleTimeString()})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Calls (24h)"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",children:s.metrics.totalCalls24h})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Error Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mt-1",children:[s.metrics.errorRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Escalation Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mt-1",children:[s.metrics.escalationRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Avg Duration"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mt-1",children:[Math.round(s.metrics.avgCallDuration),"s"]})]})]}),s.issues&&s.issues.length>0&&(0,a.jsxs)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,a.jsxs)("p",{className:"font-medium text-yellow-800 flex items-center space-x-2",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Issues Detected"})]}),(0,a.jsx)("ul",{className:"mt-2 space-y-1",children:s.issues.map((e,t)=>(0,a.jsxs)("li",{className:"text-sm text-yellow-700",children:["• ",e]},t))})]})]})]})}function v(e){let{clinics:t,selectedClinic:s,onSelectClinic:l}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{htmlFor:"clinic-select",className:"text-sm font-medium text-gray-700",children:"Clinic:"}),(0,a.jsxs)("select",{id:"clinic-select",value:s,onChange:e=>l(e.target.value),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50 px-3 py-2 border bg-white",children:[(0,a.jsx)("option",{value:"all",children:"All Clinics"}),t.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}let w=(0,x.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function k(){let[e,t]=(0,l.useState)(null),[s,n]=(0,l.useState)([]),[i,r]=(0,l.useState)("all"),[x,m]=(0,l.useState)(!0),[h,j]=(0,l.useState)(null);async function k(){try{m(!0),j(null);let e="all"===i?void 0:i,[s,a]=await Promise.all([(0,d.TH)(e),(0,d.KP)()]);t(s),n(a)}catch(e){console.error("Failed to load dashboard:",e),j("Failed to load dashboard data. Please try again.")}finally{m(!1)}}return((0,l.useEffect)(()=>{k()},[i]),x)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard..."})]})}):h?(0,a.jsxs)("div",{className:"bg-destructive/10 border border-destructive text-destructive px-4 py-3 rounded-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:"Error loading dashboard"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:h}),(0,a.jsx)("button",{onClick:k,className:"mt-3 text-sm underline hover:no-underline",children:"Try again"})]}):e?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor your dental clinic operations in real-time"})]}),(0,a.jsx)(v,{clinics:s,selectedClinic:i,onSelectClinic:r})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsx)(c,{title:"Total Calls",value:e.calls.total,icon:u.Z,description:"".concat(e.calls.completed," completed, ").concat(e.calls.failed," failed"),trend:e.calls.successRate>0?{value:e.calls.successRate,label:"success rate"}:void 0,href:"/calls"}),(0,a.jsx)(c,{title:"Appointments",value:e.appointments.total,icon:o.Z,description:"".concat(e.appointments.confirmed," confirmed, ").concat(e.appointments.cancelled," cancelled"),trend:e.appointments.confirmationRate>0?{value:e.appointments.confirmationRate,label:"confirmation rate"}:void 0,href:"/appointments"}),(0,a.jsx)(c,{title:"Escalations",value:e.calls.escalated,icon:g.Z,description:"Calls requiring attention",variant:e.calls.escalated>0?"warning":"default",href:"/escalations"}),(0,a.jsx)(c,{title:"Estimated Revenue",value:"$".concat(e.revenue.estimated.toLocaleString()),icon:w,description:e.revenue.currency,variant:"success"}),(0,a.jsx)(c,{title:"Success Rate",value:"".concat(e.calls.successRate.toFixed(1),"%"),icon:y.Z,description:"Call completion rate",variant:e.calls.successRate>=80?"success":"default"}),(0,a.jsx)(c,{title:"Clinics",value:s.length,icon:N,description:"View all clinics",href:"/clinics"})]}),(0,a.jsx)(b,{clinicId:"all"===i?void 0:i}),(0,a.jsx)(f,{clinicId:"all"===i?void 0:i}),(0,a.jsx)(p,{clinicId:"all"===i?void 0:i,limit:10})]}):null}},826:function(e,t,s){"use strict";s.d(t,{KP:function(){return o},Qp:function(){return i},TH:function(){return l},Yj:function(){return c},jL:function(){return n},nh:function(){return r},tM:function(){return d}});let a=s(4829).Z.create({baseURL:"https://dentcognit.abacusai.app",timeout:1e4});async function l(e){return(await a.get("/api/dashboard/stats",{params:e?{clinicId:e}:{}})).data.data}async function n(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n={page:s,limit:l};e&&(n.clinicId=e),t&&(n.status=t);let i=await a.get("/api/dashboard/appointments",{params:n});return{data:i.data.data,pagination:i.data.pagination}}async function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n={page:s,limit:l};e&&(n.clinicId=e),t&&(n.status=t);let i=await a.get("/api/dashboard/calls",{params:n});return{data:i.data.data,pagination:i.data.pagination}}async function r(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n={page:s,limit:l};e&&(n.clinicId=e),t&&(n.type=t);let i=await a.get("/api/dashboard/escalations",{params:n});return{data:i.data.data,pagination:i.data.pagination}}async function c(e){await a.patch("/api/dashboard/escalations/".concat(e,"/resolve"))}async function d(e){return(await a.get("/api/dashboard/health",{params:e?{clinicId:e}:{}})).data.data}async function o(){return(await a.get("/clinics")).data}},1657:function(e,t,s){"use strict";s.d(t,{SY:function(){return o},cn:function(){return c},iV:function(){return h},o0:function(){return d},un:function(){return x},z2:function(){return m}});var a=s(7042),l=s(4769),n=s(3318),i=s(7070),r=s(351);function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}function d(e){let t="string"==typeof e?(0,n.D)(e):e;return(0,i.WU)(t,"MMM d, yyyy h:mm a")}function o(e){let t="string"==typeof e?(0,n.D)(e):e;return(0,r.B)(t,new Date,{addSuffix:!0})}function x(e){let t=e.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return t?"(".concat(t[1],") ").concat(t[2],"-").concat(t[3]):e}function m(e){return({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",available:"bg-gray-100 text-gray-800",callback:"bg-yellow-100 text-yellow-800",escalated:"bg-red-100 text-red-800",failed:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}function h(e){return({healthy:"bg-green-100 text-green-800 border-green-200",degraded:"bg-yellow-100 text-yellow-800 border-yellow-200",critical:"bg-red-100 text-red-800 border-red-200"})[e]}}},function(e){e.O(0,[990,929,844,971,938,744],function(){return e(e.s=6886)}),_N_E=e.O()}]);