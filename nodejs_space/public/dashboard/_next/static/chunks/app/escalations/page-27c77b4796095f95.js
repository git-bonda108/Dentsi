(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{4530:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});let n=(0,a(5531).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3715:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});let n=(0,a(5531).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4631:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});let n=(0,a(5531).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5927:function(t,e,a){Promise.resolve().then(a.bind(a,4576))},4576:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return o}});var n=a(7437),s=a(2265),i=a(826),r=a(3715),c=a(8063),l=a(4530),d=a(4631);function o(){let[t,e]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null);async function p(){try{o(!0);let t=await (0,i.nh)();e(t.data)}catch(t){h(t.message||"Failed to load")}finally{o(!1)}}return((0,s.useEffect)(()=>{p()},[]),a)?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-96",children:[(0,n.jsx)(r.Z,{className:"h-12 w-12 text-orange-600 animate-spin"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading escalations..."})]}):u?(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[(0,n.jsx)(c.Z,{className:"h-6 w-6 text-red-600"}),(0,n.jsx)("p",{className:"text-red-700 mt-2",children:u}),(0,n.jsx)("button",{onClick:p,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg",children:"Retry"})]}):0===t.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(l.Z,{className:"h-16 w-16 text-green-500 mx-auto"}),(0,n.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"All Clear!"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"No escalations requiring attention"})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6",children:(0,n.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,n.jsx)(d.Z,{className:"h-8 w-8 text-orange-600"}),"Escalations (",t.length,")"]})}),(0,n.jsx)("div",{className:"space-y-4",children:t.map(t=>{var e,a;return(0,n.jsx)("div",{className:"bg-white rounded-xl shadow border-2 border-orange-200 p-6",children:(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Call requiring attention"}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Caller: ",(null===(e=t.patient)||void 0===e?void 0:e.phone)||"Unknown"]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Clinic: ",(null===(a=t.clinic)||void 0===a?void 0:a.name)||"Unknown"]})]}),(0,n.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg",children:"Resolve"})]})},t.id)})})]})}},826:function(t,e,a){"use strict";a.d(e,{KP:function(){return o},Qp:function(){return r},TH:function(){return s},Yj:function(){return l},jL:function(){return i},nh:function(){return c},tM:function(){return d}});let n=a(4829).Z.create({baseURL:"https://dentcognit.abacusai.app",timeout:1e4});async function s(t){return(await n.get("/api/dashboard/stats",{params:t?{clinicId:t}:{}})).data.data}async function i(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,i={page:a,limit:s};t&&(i.clinicId=t),e&&(i.status=e);let r=await n.get("/api/dashboard/appointments",{params:i});return{data:r.data.data,pagination:r.data.pagination}}async function r(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,i={page:a,limit:s};t&&(i.clinicId=t),e&&(i.status=e);let r=await n.get("/api/dashboard/calls",{params:i});return{data:r.data.data,pagination:r.data.pagination}}async function c(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,i={page:a,limit:s};t&&(i.clinicId=t),e&&(i.type=e);let r=await n.get("/api/dashboard/escalations",{params:i});return{data:r.data.data,pagination:r.data.pagination}}async function l(t){await n.patch("/api/dashboard/escalations/".concat(t,"/resolve"))}async function d(t){return(await n.get("/api/dashboard/health",{params:t?{clinicId:t}:{}})).data.data}async function o(){return(await n.get("/clinics")).data}}},function(t){t.O(0,[990,971,938,744],function(){return t(t.s=5927)}),_N_E=t.O()}]);